dec7 =>

  input := io.stdin.read_string.trim.split "\n" .map (.codepoints.as_array) .as_array
  w := input[0].count

  part1 =>
    input.foldf (0,array w _->false) e,l->e||>c,a->
        a2 := array w x->
          (l[x]="S"         ||
           l[x]="." && a[x] ||
           x>0   && l[x-1]="^" && a[x-1] ||
           x<w-1 && l[x+1]="^" && a[x+1])
        c2 := c + a.indices.count (x -> l[x]="^" && a[x])
        (c2,a2)
      .0

  part2 =>
    input.foldf (array w _->(i64 0)) a,l->
        a2 := array w x->
          (if      l[x]="." then a[x]
           else if l[x]="S" then 1
                            else 0
           + if x>0   && l[x-1]="^" then a[x-1] else 0
           + if x+1<w && l[x+1]="^" then a[x+1] else 0)
        a2
      .sum

  say "$part1:$part2"
