dec4 =>

  input := io.stdin.read_string.trim.split "\n"
             .map (l -> l.codepoints.map ="@" .as_array)
             .as_array

  w := input[0].length
  h := input.length

  is_roll(x,y) =>
    0 <= y < h && 0 <= x < w && input[y][x]

  part1 =>
    (-1 .. h).map y->
        (-1 .. w).map x->
            if is_roll x y then
              if (((y-1 .. y+1).flat_map yy->
                     (x-1 .. x+1).filter (xx -> is_roll xx yy)
                   .count) <=4) then
                say "yea $x $y"
              ((y-1 .. y+1).flat_map yy->
                   (x-1 .. x+1).filter (xx -> is_roll xx yy)
                 .count) <=4
            else
              false
          .count id
      .sum

  part2 =>

  say "$part1:$part2"
